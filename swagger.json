{"swagger":"2.0","info":{"version":"1","title":"mluvii public api"},"basePath":"/","schemes":["http","https"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/api/v1/Sessions/{id}":{"get":{"tags":["Sessions"],"summary":"Retrieves session by ID","operationId":"ApiV1SessionsByIdGet","parameters":[{"name":"id","in":"path","description":"Session ID","required":true,"type":"integer","format":"int64"}],"responses":{"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"400":{"description":"Bad Request","schema":{"type":"object","additionalProperties":{"type":"string"}}},"200":{"description":"Success","schema":{"$ref":"#/definitions/PublicApi.Session.Models.SessionModel"}},"404":{"description":"Session ID not found."}},"x-swagger-router-controller":"sessions"}},"/api/v1/Users/{id}":{"get":{"tags":["Users"],"summary":"Retrieves user by ID.","operationId":"ApiV1UsersByIdGet","parameters":[{"name":"id","in":"path","description":"User ID","required":true,"type":"integer","format":"int64"}],"responses":{"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"400":{"description":"Bad Request","schema":{"type":"object","additionalProperties":{"type":"string"}}},"200":{"description":"Success","schema":{"$ref":"#/definitions/PublicApi.User.Models.UserModel"}},"404":{"description":"User ID not found."}},"x-swagger-router-controller":"users"}},"/api/v1/Webhooks":{"post":{"tags":["Webhooks"],"summary":"Register webhook for given event.","operationId":"ApiV1WebhooksPost","parameters":[{"name":"model","in":"body","description":"Webhook model","required":true,"schema":{"$ref":"#/definitions/PublicApi.Webhook.Models.WebhookModel"}}],"responses":{"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"400":{"description":"Bad Request","schema":{"type":"object","additionalProperties":{"type":"string"}}},"201":{"description":"Webhook created","schema":{"format":"int32","type":"integer"}},"409":{"description":"Conflict","schema":{"format":"int32","type":"integer"}}},"x-swagger-router-controller":"webhooks"},"delete":{"tags":["Webhooks"],"summary":"Delete all webhooks","operationId":"ApiV1WebhooksDelete","parameters":[],"responses":{"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"400":{"description":"Bad Request","schema":{"type":"object","additionalProperties":{"type":"string"}}},"204":{"description":"Webhooks deleted"},"404":{"description":"Not Found"}},"x-swagger-router-controller":"webhooks"}},"/api/v1/Webhooks/{id}":{"get":{"tags":["Webhooks"],"summary":"Get webhook","operationId":"ApiV1WebhooksByIdGet","parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int32"}],"responses":{"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"400":{"description":"Bad Request","schema":{"type":"object","additionalProperties":{"type":"string"}}},"200":{"description":"Success","schema":{"$ref":"#/definitions/PublicApi.Webhook.Models.WebhookModel"}},"404":{"description":"Not Found"}},"x-swagger-router-controller":"webhooks"},"put":{"tags":["Webhooks"],"summary":"Update webhook","operationId":"ApiV1WebhooksByIdPut","parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int32"},{"name":"model","in":"body","required":true,"schema":{"$ref":"#/definitions/PublicApi.Webhook.Models.WebhookModel"}}],"responses":{"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"400":{"description":"Bad Request","schema":{"type":"object","additionalProperties":{"type":"string"}}},"204":{"description":"Webhook updated"},"404":{"description":"Not Found"}},"x-swagger-router-controller":"webhooks"},"delete":{"tags":["Webhooks"],"summary":"Delete webhook by id.","operationId":"ApiV1WebhooksByIdDelete","parameters":[{"name":"id","in":"path","required":true,"type":"integer","format":"int32"}],"responses":{"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"},"400":{"description":"Bad Request","schema":{"type":"object","additionalProperties":{"type":"string"}}},"204":{"description":"Webhook deleted"},"404":{"description":"Not Found"}},"x-swagger-router-controller":"webhooks"}}},"definitions":{"PublicApi.Session.Models.SessionModel":{"type":"object","properties":{"id":{"format":"int64","type":"integer"},"companyId":{"format":"int32","type":"integer"},"departmentId":{"format":"int32","type":"integer"},"guest":{"$ref":"#/definitions/PublicApi.Session.Models.SessionModel+GuestInfo","description":"Guest information"},"channel":{"description":"The channel at the time of session creation","enum":["Chat","AV"],"type":"string"},"source":{"description":"The origin of the session creation","enum":["Default","Callback","Invitation","ChatInvitation","API","Facebook"],"type":"string"},"avSupport":{"description":"Guest A/V capabilities","enum":["WEB_RTC","FLASH_ONLY","NONE"],"type":"string"},"directCallNumber":{"description":"When guest enters via invitation, this is the generated number.","type":"string"},"phoneCallbackNumber":{"description":"When guest enters via phone callback, this is the phone number.","type":"string"},"isDirectChat":{"description":"The session was proactively created by operator and offered to a visiting guest.","type":"boolean"},"url":{"description":"Entry URL at the time of session creation","type":"string"},"widget":{"description":"Name of entry widget","type":"string"},"operators":{"description":"Operators who participated in the session","type":"array","items":{"$ref":"#/definitions/PublicApi.Session.Models.SessionModel+OperatorInfo"}},"reviewers":{"description":"Reviewers","type":"array","items":{"$ref":"#/definitions/PublicApi.Session.Models.SessionModel+ReviewerInfo"}},"enteredQueue":{"format":"date-time","description":"Session entered queue.","type":"string"},"started":{"format":"date-time","description":"When first operator accepts the session.","type":"string"},"ended":{"format":"date-time","description":"When operator or guest leaves the session.","type":"string"},"waited":{"description":"ISO 8601 duration. From entering queue to start of session or leaving the queue.\r\nWhichever comes first.","type":"string"},"length":{"description":"ISO 8601 duration. Length of session or null if session never started.","type":"string"},"blacklisted":{"description":"Whether the guest was blacklisted.","type":"boolean"},"phoneCallbackDialed":{"format":"date-time","description":"For callback session only.\r\nTime when operator dialed callback number.","type":"string"},"activities":{"description":"Trail of all session activities.","type":"array","items":{"$ref":"#/definitions/PublicApi.Session.Models.SessionModel+Activity"}},"tags":{"description":"Tags associated with this session.","type":"array","items":{"$ref":"#/definitions/PublicApi.Session.Models.SessionModel+AssignedTag"}},"guestFeedbackStars":{"format":"int32","description":"Number of stars given by guest on feedback form.","maximum":5,"minimum":1,"type":"integer"},"guestFeedbackText":{"description":"Freeform textual feedback giben by guest on feedback form.","type":"string"},"guestFeedbackCustomFields":{"description":"Contents of feedback form custom fields.","type":"object","additionalProperties":{"type":"object"}}}},"PublicApi.Session.Models.SessionModel+GuestInfo":{"type":"object","properties":{"trackedId":{"format":"uuid","description":"GUID is generated for each unique guest and saved to cookie.","type":"string"},"tempId":{"format":"int64","description":"Temporary ID, generated when guest starts a new session and enters queue.","type":"integer"},"ipAddress":{"description":"Guest IP address","type":"string"},"callParams":{"description":"Collection of attributes associated with the session.\r\nIncludes system as well as user keys.","type":"object","additionalProperties":{"type":"string"}}}},"PublicApi.Session.Models.SessionModel+OperatorInfo":{"description":"Operator information","type":"object","properties":{"userId":{"format":"int32","type":"integer"},"userName":{"description":"Unique operator username","type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"joined":{"format":"date-time","type":"string"},"left":{"format":"date-time","description":"Operator left session.","type":"string"},"concluded":{"format":"date-time","description":"Operator completed After Call Work (submited session conclusion form).","type":"string"},"feedbackResult":{"description":"Selected session result.","type":"string"},"feedbackText":{"description":"Freeform textual feedback by operator.","type":"string"}}},"PublicApi.Session.Models.SessionModel+ReviewerInfo":{"type":"object","properties":{"userId":{"format":"int32","type":"integer"},"userName":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"feedbackText":{"description":"Freeform textual feedback by reviewer.","type":"string"}}},"PublicApi.Session.Models.SessionModel+Activity":{"type":"object","properties":{"activityId":{"format":"int32","type":"integer"},"time":{"format":"date-time","description":"Timestamp of activity","type":"string"},"type":{"description":"Type of activity","type":"string"},"userId":{"format":"int32","description":"Operator who initiated the activity.","type":"integer"},"file":{"$ref":"#/definitions/PublicApi.Session.Models.SessionModel+ActivityFile"},"text":{"type":"string"},"response":{"enum":["NONE","REQUESTED","ACCEPTED","REJECTED_USER","REJECTED_SHIT_BROWSER","REJECTED_NO_MIC"],"type":"string"},"result":{"enum":["SUCCESS","NO_CAMERA_ONLY_MIC","NO_DEVICES","USER_DENIED"],"type":"string"},"streamAvailable":{"type":"boolean"},"toOperatorUserId":{"format":"int32","description":"\"Forwarding to operator\" activity only.\r\nUser ID of recipient.","type":"integer"},"toOperatorFullName":{"description":"\"Forwarding to operator\" activity only.\r\nFull name of recipient.","type":"string"},"toGroupId":{"format":"int32","description":"\"Forwarding to group\" activity only.\r\nID of recipient operator group.","type":"integer"},"toGroupName":{"description":"\"Forwarding to group\" activity only.\r\nName recipient operator group.","type":"string"},"note":{"description":"Forwarding activity only.\r\nNote associated with forwarding.","type":"string"}}},"PublicApi.Session.Models.SessionModel+AssignedTag":{"type":"object","properties":{"userId":{"format":"int32","description":"Operator who assigned the TAG to session.","type":"integer"},"name":{"description":"Name of TAG.","type":"string"}}},"PublicApi.Session.Models.SessionModel+ActivityFile":{"type":"object","properties":{"operatorOwner":{"format":"int32","description":"Operator-owned files only.\r\nOperator user ID.","type":"integer"},"companyOwner":{"format":"int32","description":"Operator-owned files only.\r\nCompany ID.","type":"integer"},"name":{"description":"Name of stored file.","type":"string"}}},"PublicApi.User.Models.UserModel":{"type":"object","properties":{"id":{"format":"int32","type":"integer"},"firstName":{"type":"string"},"lastName":{"type":"string"},"username":{"type":"string"},"email":{"type":"string"}}},"PublicApi.Webhook.Models.WebhookModel":{"required":["eventTypes","callbackUrl"],"type":"object","properties":{"eventTypes":{"type":"array","items":{"enum":["UserStatusChanged","SessionStarted","SessionEnded","SessionForwarded"],"type":"string"}},"callbackUrl":{"type":"string"}}}},"securityDefinitions":{"Bearer":{"name":"Authorization","in":"header","type":"apiKey","description":"Enter header value: &quot;Bearer &lt;token&gt;&quot;"}}}